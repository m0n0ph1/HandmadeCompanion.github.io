<html>
<head>
    <title>Animating the Back Buffer | Handmade Companion</title>
    <meta name="generator" content="DocPad v6.69.1" />
    <link  rel="stylesheet" href="/vendor/normalize.css" /><link  rel="stylesheet" href="/styles/style.css" />
    <script src="/vendor/jquery-2.1.1.min.js"></script>
</head>
<body>
    <div id="outer_holder">
        <div class="back">
            <div class="outer">
                <div id="player-wrapper">
    <div id="player" class="medium" data-video-id="hNKU8Jiza2g"></div>
</div>


<nav class="timecodes">
    <ul name="markers">
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="0:30">
                Correction about StretchDIBits()/BitBlt() (0:30)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="5:20">
                Writing our custom BitmapMemory allocator. (Note about aligned/unaligned byte access) (5:20)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="7:13">
                Basic math to determine the bytes needed for BitmapMemorySize. 'Width * Height * BytesPerPixel' (7:13)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="7:57">
                Description and usage of VirtualAlloc(), the WIN32 memory allocation function we will be using (7:57)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="13:15">
                Making sure we free any allocated memory before we resize, using VirtualFree() (13:15)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="15:20">
                Aside about VirtualProtect(), useful to prevent stale pointers and &quot;use after free&quot; bugs (15:20)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="16:49">
                Step through of Win32ResizeDIBSection() (16:49)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="17:45">
                Changing Win32UpdateWindow() to use BitmapMemory (17:45)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="19:30">
                Adding Bitmap dimensions as global variables (temporarily) (19:30)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="20:00">
                Setting Bitmap Width/Height and using them in Win32ResizeDIBSection() (20:00)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="20:20">
                Setting Window Width/Height in Win32UpdateWindow() (20:20)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="21:57">
                Notes on storing a 2D image inside a 1D &quot;block&quot; of memory. Pitch/Stride. (21:57)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="24:30">
                Setting biHeight to a negative number to ensure the window framebuffer uses a top-down coordinate system with its origin in the top left corner (24:30)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="25:59">
                Note on getting MSVC to give full paths to files in the build output log. (Add -FC to build.bat) Allows emacs to jump between build errors (25:59)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="27:00">
                BUGFIX: Win32UpdateWindow() definition change (27:00)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="27:45">
                Drawing pixels into the bitmap (27:45)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="29:05">
                Adding typedefs for specific type sizes (29:05)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="30:39">
                Casting void* to different size types to make pointer arithmetic simpler for bitmap access (30:39)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="33:36">
                Pixel component layout in memory on Win32. Flipped to read RGB when viewed in the memory registers. (33:36)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="38:10">
                Drawing pixel colors based on the X and Y (38:10)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="40:10">
                Moving bitmap rendering into RenderWeirdGradient() (40:10)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="42:40">
                Adding animation and switching GetMessageA() for PeekMessage() so that Windows doesn't block (42:40)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="45:23">
                Making sure we handle WM_QUIT inside our PeekMessage() loop (45:23)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="46:23">
                Adding XOffset/YOffset variables to the main loop, ++1 them each time through the loop (46:23)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="47:40">
                BUGFIX: Adding our window blitting function (Win32UpdateWindow()) to the main loop, so the bitmap will blit each time through the loop (47:40)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="50:25">
                Changing &quot;WindowHandle&quot; to &quot;Window&quot; and &quot;WindowRect&quot; to &quot;ClientRect&quot; (50:25)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="51:56">
                FINALLY ANIMATION! (51:56)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="54:25">
                Changing DrawWeirdGradient() to use a 32-bit pointer and write each pixel in one call using bitwise operations (54:25)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="58:38">
                Verification of lack of memory leaks (58:38)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="59:44">
                TOTAL SYSTEM MELTDOWN (59:44)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="1:02:07">
                Start of Q&amp;A (1:02:07)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="1:02:10">
                Is there a reason you prefer using 0 instead of NULL? (1:02:10)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="1:03:18">
                Clarification about sized typedefs (1:03:18)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="1:04:58">
                What would happen if you called malloc() instead of VirtualAlloc()? (1:04:58)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="1:05:32">
                What's the difference between malloc and new and HeapAlloc()? (1:05:32)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="1:06:27">
                Do you think you could go as slow as you did previous days in the future? (1:06:27)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="1:07:27">
                Are we going to use Valgrind in the future? (1:07:27)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="1:07:43">
                Is the project going to take 2 years? (1:07:43)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="1:08:10">
                Can you explain why we are using the user32.lib and gdi.lib in the build.bat? (1:08:10)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="1:08:42">
                Would there be a significant performance increase if we allocated the memory for the bitmap on the stack instead of the heap? (1:08:42)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="1:10:27">
                Do you know what the PAGE_WRITECOPY Memory Protection flag does? (1:10:27)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="1:15:52">
                About bytes per pixel and bitmap memory layout. Pitch/Stride. Pitch is byte offset between rows. (1:15:52)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="1:19:49">
                You mentioned xxBBGGRR because of little endian, why was the blue channel set in this case instead of the padding? (1:19:49)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="1:21:30">
                Could the padding byte be used as an alpha channel here? (1:21:30)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="1:22:06">
                Why are we having a wait symbol on the window? (1:22:06)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="1:22:50">
                Could you explain the offset to X and Y? (1:22:50)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="1:24:00">
                About the global_variables and the static keyword (1:24:00)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="1:28:15">
                Static doesn't give you zero on initialization? (1:28:15)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="1:29:38">
                Do you consider overflowing numbers to be a good coding practice? (1:29:38)
            </a>
        </li>
    
        <li>
            <a href="#" class="marker-time" data-human-timecode="1:30:23">
                Note about statics and extern global variables being initialized to zero (1:30:23)
            </a>
        </li>
    
    </ul>
</nav>


<article id="video-notes">
    <h1>Animating the Back Buffer</h1>
    
</article>



            </div>
        </div>
    </div>

    <header>
        <nav>
            <ul>
                <li id="sitelabel">
                    Handmade Hero Central
                </li>
                <li>
                    <a href="/index.php?option=com_content&amp;view=category&amp;layout=blog&amp;id=8">News</a>
                </li>
                <li>
                    <a href="/index.php?option=com_content&amp;view=article&amp;id=6">Episode Guide</a>
                </li>
                <li>
                    <a href="/index.php?option=com_content&amp;view=article&amp;id=8">Coding Resources</a>
                </li>
                <li>
                    <a href="/index.php?option=com_kunena&amp;view=category&amp;catid=4">Code Discussion</a>
                </li>
                <li>
                    <a href="/index.php?option=com_kunena&amp;view=category&amp;catid=5">Game Discussion</a>
                </li>      
            </ul>
        </nav>
    </header>

    
        <script type="text/javascript" src="/scripts/video.js"></script>
    
        <script type="text/javascript" src="https://www.youtube.com/iframe_api"></script>
    

    
</body>
</html>